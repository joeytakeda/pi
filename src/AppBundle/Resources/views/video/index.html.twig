{% extends 'base.html.twig' %}

{% block pageheader %} 
    <h1>Video List</h1>
    <p class="count">
        Displaying {{ videos|length }} videos of {{ videos.getTotalItemCount }} total. Page {{ videos.getPage() ? videos.getPage() : 1 }} of {{ videos.getPageCount() }}. <br>
        Sort by 
        <span {% if videos.isSorted('e.id') %}class='sorted {{ videos.getDirection()}}'{% endif %}>{{ knp_pagination_sortable(videos, 'ID', 'e.id') }}</span> or 
        <span {% if videos.isSorted('e.publishedAt') %}class='sorted {{ videos.getDirection()}}'{% endif %}>{{ knp_pagination_sortable(videos, 'Date Published', 'e.publishedAt') }}</span> or 
        <span {% if videos.isSorted('e.title') %}class='sorted {{ videos.getDirection()}}'{% endif %}>{{ knp_pagination_sortable(videos, 'Title', 'e.title') }}</span> 
    </p>
{% endblock %} 

{% block body %}
    <div class="video-gallery">
        {% for video in videos %}
        <div class="card">
            <a href="{{ path('video_show', { 'id': video.id }) }}">
                <img src="{{ asset('bundles/app/images/default.png')}}" data-src="{{ video.thumbnail | replace({'default': 0})}}" class="card-img-top" loading="lazy"/>
            </a>
            <div class="card-body">
                <h5 class="card-title">
                    <a href="{{ path('video_show', {'id': video.id})}}">
                        {{ video.title }}
                    </a>
                </h5>
                {% if video.figuration %}
                <h6>Figuration: <a href="{{ path('figuration_show', { 'id': video.figuration.id }) }}">{{video.figuration}}</a></h6>
                {% endif %}
            </div>
        </div>
        
        {% endfor %}
        
    </div>
    

    <div class="navigation">
        {{ knp_pagination_render(videos) }}
    </div>

{% endblock %}
